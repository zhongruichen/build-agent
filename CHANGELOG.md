# 更新日志

所有此项目的重要变更都将被记录在这份文件中。

## [2.2.0] - 2025-08-17

这是一个专注于智能体内部能力和代码质量的重大更新。

### ✨ 新增

- **智能体协作框架**: 引入了一个内部消息总线 (`agentMessageBus`)，允许智能体之间直接通信。
- **动态任务委派**: “工人”智能体现在可以使用 `agent.createSubTask` 工具，在运行时动态地创建新任务并委派给其他角色。
- **自我修正审查循环**:
    - 新增 **"审查者 (Reviewer)"** 角色，专门负责在执行前对“工人”的计划（例如代码、命令）进行批判性审查。
    - “工人”智能体现在被教导在执行复杂任务前，先将计划发送给“审查者”进行同行评审，从而在早期预防错误。
    - 核心执行引擎已升级，以支持这种暂停（等待审查）和恢复（收到反馈后）的对话式任务流。
- **全面的项目文档**: 新增了此`CHANGELOG.md`，并完全重写了`README.md`和`USAGE_GUIDE.md`以反映所有最新功能。

### 🚀 优化

- **核心逻辑重构**: `extension.js`中的执行逻辑被重构到一个新的、更模块化的`taskExecutor.js`文件中，提高了代码的可读性和可维护性。
- **内存管理改进**: 显著改善了事件监听器和VS Code `IDisposable`对象的管理，修复了多个潜在的内存泄漏问题，提升了插件的长期稳定性。
- **代码质量检查**: 解决了在`eslint`检查中发现的多个代码质量问题。

## [2.1.0] - 2025-08-16

### ✨ 新增

- **Git工具集**: 赋予智能体一套完整的Git操作能力，包括创建分支、暂存文件和提交更改。
- **VS Code调试器集成**: 智能体现在可以直接控制VS Code的调试器，包括启动/停止会话、添加/删除断点以及控制执行流程。
- **工作区状态面板**: UI中新增“工作区状态”标签页，实时显示文件系统、Git状态和活动断点。

## [2.0.0] - 2025-08-15

### ✨ 新增

- **“智能体工厂”**: 引入了完全以角色为中心的配置系统。用户现在可以通过设置UI创建、编辑和删除智能体角色。
- **可配置的系统提示**: 用户可以为每个角色自定义系统提示。
- **可配置的工具权限**: 用户可以为每个角色精确地分配其被授权使用的工具。
- **设置UI大修**: “设置”标签页被完全重做，以支持新的、以角色为中心的配置模型。

## [1.5.0] - 2025-08-14

### ✨ 新增

- **并行任务执行**: 在计划中无依赖关系的任务现在可以并行执行，大大缩短了总任务时间。
- **自动模式**: 增加了一个“自动模式”开关，启用后可以跳过所有用户批准步骤。
- **任务状态持久化**: 插件现在可以在VS Code关闭时保存未完成的任务，并在下次启动时提供恢复选项。
- **智能扫描**: 增加了一个“智能扫描”选项，用于在任务开始时仅扫描项目的文件结构，以加快大型项目的启动速度。
- **UI增强**:
    - 为最终产物代码添加了语法高亮。
    - 计划视图现在是可交互的，可以点击任务展开其结果。

## [1.0.1] - 2025-08-13

### 🐛 修复

- **修复了启动时UI无法加载的问题**: 解决了由于`copy-assets`脚本将UI资源复制到错误目录而导致的`ENOENT`错误。这是使插件首次正常工作的关键修复。

## [1.0.0] - 2025-08-12

- 初始版本发布。
